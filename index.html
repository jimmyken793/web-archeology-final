<!doctype html>
<html lang="en" ng-app="FanPageReader">
    <head>
        <meta charset="utf-8">
        <title>Facebook Anonymous Board Searcher (FABS)</title>
        <link rel="stylesheet" href="/bower_components/bootstrap/dist/css/bootstrap.css">
        <link rel="stylesheet" href="/style/app.css">
        <script src="/bower_components/angular/angular.js"></script>
        <script src="/bower_components/angular-sanitize/angular-sanitize.js"></script>
        <script src="/bower_components/angular-facebook/lib/angular-facebook.js"></script>
        <script src="/js/app.js"></script>
        <script src="/bower_components/ngstorage/ngStorage.js"></script>
    </head>
    <body ng-controller="readerCtrl">
        <div class="container" ng-show="facebookReady">
            <div class="page-header">
                <h1>Facebook Anonymous Board Searcher (FABS)</h1>
            </div>
	    	<div class="row"  ng-hide="loggedIn">
	    		<h2>本程式需要Facebook權限方可使用：</h2>
	            <input type="submit" value="Facebook授權" class="btn btn-sm btn-primary" ng-click="login()">
	    	</div>
            <div class="row" ng-show="loggedIn">
                <div class="col-md-2">
                    <h5>看板ID：</h5>
					<input type="radio" ng-model="boardType" value="select">選取現有
					<select ng-model="boardSelectId" ng-options="board.name for board in $storage.boards" ng-focus="boardType='select'"></select><br>
                    <input type="radio" ng-model="boardType" value="other" checked="true">其他
                    <input type="text" ng-model="fanpageURL" ng-focus="boardType='other'"><br>
                    <input type="submit" value="載入" class="btn btn-sm btn-primary" ng-click="load()">
                    <small>www.facebook.com/NTUHATE => input "NTUHATE"</small>
                    <h5>搜尋：</h5>
                    <input ng-model="query">
                </div>
                <div class="col-md-10">
                    <table class="table table-striped">
                        <tr ng-repeat="post in posts | filter: { message:query }:strict">
                            <td ng-bind-html="post.message | nl2br"></td>
                            <td>
                                <a href="https://www.facebook.com/{{post.id}}">原文</a>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </body>
</html>
